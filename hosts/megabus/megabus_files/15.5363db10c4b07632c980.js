(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{u6az:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=e("k4Da"),i=e.n(u),a=e("7tbW"),r=e.n(a),o=e("Xp7I"),s=e.n(o),c=e("J2m7"),p=e.n(c),f=e("p46w"),d=e("mvnO"),g=function(){function n(n){this.coreService=n,this.limit=3,this.cookieName="suppressedAlerts"}return n.prototype.getSevereAlerts=function(){var n=this;return this.getServiceAlerts||(this.getServiceAlerts=this.coreService.dataAccess.GET("/journey-planner/api/information/severe",!1)),this.getServiceAlerts.then(function(l){return n.filterSuppressedAlerts(l.alerts)})},n.prototype.getAlert=function(n){return this.getSevereAlerts().then(function(l){return p()(l,function(l){return l.id===n})})},n.prototype.suppressAlert=function(n){var l=this.readValues(this.cookieName);l.push(n),this.writeValues(this.cookieName,r()(l))},n.prototype.filterSuppressedAlerts=function(n){var l=this.readValues(this.cookieName),e=i()(n,function(n){return l.indexOf(n.id)<0});return s()(e,this.limit)},n.prototype.readValues=function(n){return f.getJSON(n)||[]},n.prototype.writeValues=function(n,l){f.set(n,l)},n}(),h=function(n){this.data=n},v=function(){function n(n,l){this.serviceAlerts=n,this.dialog=l}return n.prototype.ngOnInit=function(){var n=this;this.serviceAlerts.getSevereAlerts().then(function(l){n.alerts=l})},n.prototype.showDetails=function(n){var l=this;this.serviceAlerts.getAlert(n).then(function(n){n&&l.dialog.open(h,{data:n,id:"serviceAlert"})})},n.prototype.suppress=function(n){var l=this;this.serviceAlerts.suppressAlert(n),this.serviceAlerts.getSevereAlerts().then(function(n){l.alerts=n})},n}(),b=function(){function n(){}return n.entry=v,n}(),_=e("t68o"),m=e("Ip0R"),P=e("o3x0"),O=t.Na({encapsulation:0,styles:[[".service-alerts-banner[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:700;padding:0;background-color:#dc3c47}@media only screen and (min-width:768px){.service-alerts-banner[_ngcontent-%COMP%]{font-size:16px}}.service-alerts-banner__inner[_ngcontent-%COMP%]{position:relative;min-height:45px}.service-alerts-banner__inner__icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;line-height:20px;display:inline-block;position:absolute;top:0}.service-alerts-banner__inner__text[_ngcontent-%COMP%]{max-width:calc(100% - 25px);display:inline-block;padding-left:25px}.service-alerts-banner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:15px;width:100%;text-align:left;margin-bottom:0}.service-alerts-banner[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}.service-alerts-banner[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:15px}.service-alerts-banner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.service-alerts-banner__detail[_ngcontent-%COMP%]{display:block;color:#fff;font-size:12px;font-weight:300;text-decoration:underline}.service-alerts-banner[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:0;font-size:24px;line-height:30px;opacity:1;color:#fff;top:3px;height:30px}@media only screen and (min-width:768px){.service-alerts-banner__inner__text[_ngcontent-%COMP%]{position:relative}.service-alerts-banner[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{right:15px}}"]],data:{}});function x(n){return t.jb(0,[(n()(),t.Pa(0,0,null,null,9,"li",[["class","list-unstyled"]],null,null,null,null,null)),(n()(),t.Pa(1,0,null,null,1,"div",[["class","service-alerts-banner__inner__icon"]],null,null,null,null,null)),(n()(),t.Pa(2,0,null,null,0,"span",[["class","mb-exclamation"]],null,null,null,null,null)),(n()(),t.Pa(3,0,null,null,4,"div",[["class","service-alerts-banner__inner__text"]],null,null,null,null,null)),(n()(),t.Pa(4,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t.hb(5,null,["",""])),(n()(),t.Pa(6,0,null,null,1,"a",[["class","service-alerts-banner__detail"],["href","javascript:void(0);"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.showDetails(n.context.$implicit.id)&&t),t},null,null)),(n()(),t.hb(-1,null,["Further details and link"])),(n()(),t.Pa(8,0,null,null,1,"a",[["href","javascript:void(0);"],["title","Close"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.suppress(n.context.$implicit.id)&&t),t},null,null)),(n()(),t.Pa(9,0,null,null,0,"i",[["class","close mb-close"]],null,null,null,null,null))],null,function(n,l){n(l,5,0,l.context.$implicit.title)})}function k(n){return t.jb(0,[(n()(),t.Pa(0,0,null,null,4,"div",[["class","service-alerts-banner"]],null,null,null,null,null)),(n()(),t.Pa(1,0,null,null,3,"div",[["class","service-alerts-banner__inner"]],null,null,null,null,null)),(n()(),t.Pa(2,0,null,null,2,"ul",[],null,null,null,null,null)),(n()(),t.Ga(16777216,null,null,1,null,x)),t.Oa(4,802816,null,0,m.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,4,0,l.component.alerts)},null)}function A(n){return t.jb(0,[(n()(),t.Ga(16777216,null,null,1,null,k)),t.Oa(1,16384,null,0,m.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,e.alerts&&e.alerts.length)},null)}var y=t.La("mb-service-alerts-banner",v,function(n){return t.jb(0,[(n()(),t.Pa(0,0,null,null,1,"mb-service-alerts-banner",[],null,null,null,A,O)),t.Oa(1,114688,null,0,v,[g,P.e],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),C=t.Na({encapsulation:2,styles:[],data:{}});function M(n){return t.jb(0,[(n()(),t.Pa(0,0,null,null,1,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),t.hb(1,null,["",""]))],null,function(n,l){var e=l.component;n(l,0,0,e.data.url),n(l,1,0,e.data.urlDescription)})}function w(n){return t.jb(0,[(n()(),t.Pa(0,0,null,null,5,"h4",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.Oa(1,81920,null,0,P.m,[[2,P.l],t.k,P.e],null,null),(n()(),t.hb(-1,null,[" Service Alert "])),(n()(),t.Pa(3,0,null,null,2,"button",[["aria-hidden","true"],["class","dialog-close"],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t.Za(n,4).dialogRef.close(t.Za(n,4).dialogResult)&&u),u},null,null)),t.Oa(4,606208,null,0,P.g,[[2,P.l],t.k,P.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t.hb(-1,null,["Close"])),(n()(),t.Pa(6,0,null,null,7,"mat-dialog-content",[["class","mat-dialog-content"]],null,null,null,null,null)),t.Oa(7,16384,null,0,P.j,[],null,null),(n()(),t.Pa(8,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),t.hb(9,null,["",""])),(n()(),t.Pa(10,0,null,null,3,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),t.Pa(11,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t.Ga(16777216,null,null,1,null,M)),t.Oa(13,16384,null,0,m.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0),n(l,4,0,""),n(l,13,0,e.data.url)},function(n,l){var e=l.component;n(l,0,0,t.Za(l,1).id),n(l,3,0,t.Za(l,4).ariaLabel),n(l,9,0,e.data.title),n(l,10,0,e.data.content)})}var X=t.La("ng-component",h,function(n){return t.jb(0,[(n()(),t.Pa(0,0,null,null,1,"ng-component",[],null,null,null,w,C)),t.Oa(1,49152,null,0,h,[P.a],null,null)],null,null)},{},{},[]),S=e("eDkP"),j=e("Fzqc"),N=e("4c35"),z=e("dWZg"),I=e("qAlS"),L=e("Wf4p");e.d(l,"ServiceAlertsBannerModuleNgFactory",function(){return D});var D=t.Ma(b,[],function(n){return t.Wa([t.Xa(512,t.j,t.Ba,[[8,[_.a,y,X]],[3,t.j],t.w]),t.Xa(4608,m.o,m.n,[t.t,[2,m.w]]),t.Xa(4608,S.a,S.a,[S.g,S.c,t.j,S.f,S.d,t.q,t.y,m.e,j.b]),t.Xa(5120,S.h,S.i,[S.a]),t.Xa(5120,P.c,P.d,[S.a]),t.Xa(4608,P.e,P.e,[S.a,t.q,[2,m.i],[2,P.b],P.c,[3,P.e],S.c]),t.Xa(4608,g,g,[d.a]),t.Xa(1073742336,m.c,m.c,[]),t.Xa(1073742336,j.a,j.a,[]),t.Xa(1073742336,N.f,N.f,[]),t.Xa(1073742336,z.b,z.b,[]),t.Xa(1073742336,I.a,I.a,[]),t.Xa(1073742336,S.e,S.e,[]),t.Xa(1073742336,L.i,L.i,[[2,L.c]]),t.Xa(1073742336,P.k,P.k,[]),t.Xa(1073742336,b,b,[])])})}}]);